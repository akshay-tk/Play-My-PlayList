{"ast":null,"code":"var _jsxFileName = \"E:\\\\ivs\\\\src\\\\components\\\\resetPassword\\\\resetPassword.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../navigation/Navigation\";\nimport \"./resetPassword.css\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ResetPassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickShowPassword = () => {\n      this.setState({\n        showPassword: !this.state.showPassword\n      });\n    };\n\n    this.state = {\n      otp: \"\",\n      userEmail: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      otpState: \"Initial Stage\",\n      messageStatus: \"\"\n    };\n    this.otpCreation = this.otpCreation.bind(this);\n    this.handleOTP = this.handleOTP.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleNewPassword = this.handleNewPassword.bind(this);\n    this.gotoLoginPage = this.gotoLoginPage.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  otpCreation(event) {\n    event.preventDefault();\n    var userData = {\n      userEmail: this.state.userEmail\n    };\n    axios({\n      url: \"/forgot-password/create-otp\",\n      method: \"post\",\n      data: userData\n    }).then(response => {\n      if (response.data.msg === \"OTP created\") {\n        this.setState({\n          otpState: \"OTP created\",\n          messageStatus: \"OTP Created\"\n        });\n      } else if (response.request.responseText === \"User not found\") {\n        this.setState({\n          messageStatus: \"Invalid Email\"\n        });\n      }\n    }).catch(function (err) {});\n  }\n\n  handleOTP(event) {\n    event.preventDefault();\n    var userData = {\n      userEmail: this.state.userEmail,\n      otp: this.state.otp\n    };\n    axios({\n      url: \"/forgot-password/verify-otp\",\n      method: \"post\",\n      data: userData\n    }).then(response => {\n      if (response.data.msg === \"Valid OTP\") {\n        this.setState({\n          otpState: \"Valid OTP\",\n          messageStatus: \"Valid OTP\"\n        });\n      } else if (response.data.msg === \"Invalid OTP\") {\n        this.setState({\n          messageStatus: \"Invalid OTP\"\n        });\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  handleNewPassword(event) {\n    event.preventDefault();\n\n    if (this.state.confirmPassword === this.state.password) {\n      var length = this.state.password.length;\n\n      if (length > 7) {\n        var userData = {\n          userEmail: this.state.userEmail,\n          password: this.state.password\n        };\n        axios({\n          url: \"/forgot-password/update-password\",\n          method: \"post\",\n          data: userData\n        }).then(response => {\n          if (response.data.msg === \"Password changed successfully\") {\n            this.setState({\n              otpState: \"\",\n              messageStatus: \"Password changed\"\n            });\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else if (length < 8) {\n        this.setState({\n          messageStatus: \"Password Length\"\n        });\n      }\n    } else if (this.state.confirmpassword != this.state.password) {\n      this.setState({\n        messageStatus: \"Password Match\"\n      });\n    }\n  }\n\n  gotoLoginPage(event) {\n    event.preventDefault();\n    this.props.history.push(\"/sign-page\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reset-password-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSignIn,\n          className: \"reset-password-form-fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-heading\",\n            children: \"Reset Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-label-input-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-row-grid-input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"signIn-textbox\",\n                required: true,\n                type: \"email\",\n                name: \"userEmail\",\n                value: this.state.userEmail,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 7\n          }, this), this.state.messageStatus === \"Password changed\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-warning\",\n              children: \"Password Changed successfully!!!!You Can Login Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"signin-button\",\n              type: \"submit\",\n              onClick: this.gotoLoginPage,\n              children: \" Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 60\n          }, this), this.state.messageStatus === \"Invalid Email\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signup-warning\",\n            children: \"User not found \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 58\n          }, this), this.state.otpState === \"Initial Stage\" && /*#__PURE__*/_jsxDEV(Button, {\n            className: \"signin-button\",\n            type: \"submit\",\n            onClick: this.otpCreation,\n            children: \" Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 23\n          }, this), this.state.otpState === \"OTP created\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-label-input-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"OTP:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-row-grid-input\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"signIn-textbox\",\n                  required: true,\n                  type: \"text\",\n                  name: \"otp\",\n                  value: this.state.otp,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 18\n            }, this), this.state.messageStatus === \"OTP created\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-warning\",\n              children: \"OTP send to your email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 63\n            }, this), this.state.messageStatus === \"Invalid OTP\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-warning\",\n              children: \"Invalid OTP \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 65\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"signin-button\",\n              type: \"submit\",\n              onClick: this.handleOTP,\n              children: \" Verify OTP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this), this.state.otpState === \"Valid OTP\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-label-input-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Passcode:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-row-grid-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"signIn-textbox\",\n                  required: true,\n                  type: this.state.showPassword ? \"text\" : \"password\",\n                  name: \"password\",\n                  value: this.state.password,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"login-page-button\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    className: \"eye-icon\",\n                    onClick: this.handleClickShowPassword,\n                    children: this.state.showPassword ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 44\n                    }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 16\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-label-input-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Confirm Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-row-grid-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"signIn-textbox\",\n                  required: true,\n                  type: this.state.showPassword ? \"text\" : \"password\",\n                  name: \"confirmPassword\",\n                  value: this.state.ConfirmPassword,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"login-page-button\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    className: \"eye-icon\",\n                    onClick: this.handleClickShowPassword,\n                    children: this.state.showPassword ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 44\n                    }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 16\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this), this.state.messageStatus === \"Password Length\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-warning\",\n              children: \" Password should contain atleast 8 characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 61\n            }, this), this.state.messageStatus === \"Password Match\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-warning\",\n              children: \" Password should contain atleast 8 characters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signin-alternative-options\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/sign-page\",\n              children: \"Go To Sign-in page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ResetPassword;","map":{"version":3,"sources":["E:/ivs/src/components/resetPassword/resetPassword.js"],"names":["React","Component","Navigation","Visibility","IconButton","VisibilityOff","axios","Link","Button","ResetPassword","constructor","props","handleClickShowPassword","setState","showPassword","state","otp","userEmail","password","confirmPassword","otpState","messageStatus","otpCreation","bind","handleOTP","handleChange","handleNewPassword","gotoLoginPage","event","target","name","value","preventDefault","userData","url","method","data","then","response","msg","request","responseText","catch","err","console","log","length","confirmpassword","history","push","render","handleSignIn","ConfirmPassword"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Navigation from \"../navigation/Navigation\"\r\nimport \"./resetPassword.css\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom'\r\nimport {Button} from 'react-bootstrap';\r\n\r\n\r\nclass ResetPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      otp: \"\",\r\n      userEmail: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      otpState: \"Initial Stage\",\r\n      messageStatus:\"\",\r\n    };\r\n    this.otpCreation = this.otpCreation.bind(this);\r\n    this.handleOTP = this.handleOTP.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleNewPassword= this.handleNewPassword.bind(this);\r\n    this.gotoLoginPage= this.gotoLoginPage.bind(this);\r\n  }\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n  otpCreation(event) {\r\n    event.preventDefault();\r\n    var userData = {\r\n      userEmail: this.state.userEmail,\r\n    };\r\n\r\n    axios({\r\n        url:\"/forgot-password/create-otp\",\r\n        method:\"post\",\r\n        data:userData\r\n    }) .then((response) => {\r\n            if(response.data.msg===\"OTP created\") {\r\n              this.setState({ otpState: \"OTP created\" ,messageStatus:\"OTP Created\"})\r\n            }\r\n            else if(response.request.responseText===\"User not found\") {\r\n              this.setState({ messageStatus:\"Invalid Email\"})\r\n            }\r\n          })\r\n            .catch(function (err) {\r\n            });\r\n  }\r\n  handleOTP(event) {\r\n    event.preventDefault();\r\n    var userData = {\r\n      userEmail: this.state.userEmail,\r\n      otp: this.state.otp,\r\n    };\r\n\r\n    axios({\r\n        url:\"/forgot-password/verify-otp\",\r\n        method:\"post\",\r\n        data:userData\r\n    }) .then((response) => {\r\n            if(response.data.msg===\"Valid OTP\") {\r\n              this.setState({ otpState: \"Valid OTP\" ,messageStatus:\"Valid OTP\"})\r\n            }\r\n            else if (response.data.msg===\"Invalid OTP\"){\r\n              this.setState({messageStatus:\"Invalid OTP\"})\r\n            }\r\n          })\r\n          .catch(function (err) {\r\n            console.log(err);\r\n          });\r\n   }\r\n   handleNewPassword(event){\r\n     event.preventDefault();\r\n    \r\n   \r\n     if(this.state.confirmPassword===this.state.password)\r\n     {var length = this.state.password.length;\r\n      if (length > 7) {\r\n      var userData = {\r\n        userEmail: this.state.userEmail,\r\n        password:this.state.password,\r\n      }\r\n\r\n    axios({\r\n        url:\"/forgot-password/update-password\",\r\n        method:\"post\",\r\n        data:userData\r\n    }).then((response) => {\r\n          \r\n            if(response.data.msg===\"Password changed successfully\") {\r\n              this.setState({ otpState: \"\" ,messageStatus:\"Password changed\"})\r\n            }\r\n          })\r\n          .catch(function (err) {\r\n            console.log(err);\r\n          });\r\n        } else if(length<8)\r\n        {this.setState({messageStatus:\"Password Length\"})}\r\n\r\n     }\r\n     else if(this.state.confirmpassword!=this.state.password){\r\n       this.setState({messageStatus:\"Password Match\"})\r\n\r\n     }\r\n   }\r\n   handleClickShowPassword = () => {\r\n    this.setState({showPassword: !this.state.showPassword });\r\n  };\r\n   gotoLoginPage(event) {\r\n     event.preventDefault();\r\n     this.props.history.push(\"/sign-page\")\r\n   }\r\n\r\n  render() {\r\n    return (\r\n        <React.Fragment>\r\n        <Navigation/>\r\n        <div className='reset-password-wrapper'>\r\n        <form onSubmit={this.handleSignIn} className=\"reset-password-form-fields\">\r\n      \r\n\r\n     \r\n          <div className=\"signup-heading\">Reset Password</div>   \r\n      \r\n      \r\n      <div className=\"form-label-input-grid\">\r\n          <label>Email:</label>\r\n            <div className=\"login-row-grid-input\" >\r\n            <input className=\"signIn-textbox\"\r\n                       required\r\n                       type=\"email\"\r\n                       name=\"userEmail\"\r\n                       value={this.state.userEmail}\r\n                       onChange={this.handleChange}/>\r\n            </div>   \r\n\r\n          </div>\r\n          {this.state.messageStatus===\"Password changed\" &&<div><div className=\"signup-warning\">Password Changed successfully!!!!You Can Login Now</div>\r\n          <Button  className=\"signin-button\"\r\n                      type=\"submit\"\r\n                      onClick={this.gotoLoginPage }\r\n                      > Login</Button></div> }\r\n\r\n\r\n            {this.state.messageStatus===\"Invalid Email\"&&<div className=\"signup-warning\">User not found </div>}\r\n            {this.state.otpState === \"Initial Stage\" && (\r\n                      <Button  className=\"signin-button\"\r\n                      type=\"submit\"\r\n                      onClick={this.otpCreation }\r\n                      > Next</Button>\r\n                    )}\r\n            {this.state.otpState === \"OTP created\" && (   \r\n                <div>\r\n                 <div className=\"form-label-input-grid\">\r\n                 <label>OTP:</label>\r\n                   <div className=\"login-row-grid-input\" >\r\n                   <input className=\"signIn-textbox\"\r\n                              required\r\n                              type=\"text\"\r\n                              name=\"otp\"\r\n                              value={this.state.otp}\r\n                              onChange={this.handleChange}/>\r\n                   </div> \r\n                   </div>  \r\n                  \r\n                   {this.state.messageStatus===\"OTP created\"&&<div className=\"signup-warning\">OTP send to your email Address</div>}\r\n                   {this.state.messageStatus===\"Invalid OTP\" && <div className=\"signup-warning\">Invalid OTP </div>}\r\n\r\n                   <Button  className=\"signin-button\"\r\n                     type=\"submit\"\r\n                     onClick={this.handleOTP}\r\n           > Verify OTP</Button>\r\n                 </div>\r\n                 \r\n            )  }   \r\n             {this.state.otpState === \"Valid OTP\" && (\r\n                 <div>\r\n                               <div className=\"form-label-input-grid\">\r\n               <label>Passcode:</label>\r\n               <div className=\"login-row-grid-input\" >\r\n                <input className=\"signIn-textbox\"\r\n                       required\r\n                       type={this.state.showPassword ? \"text\" : \"password\"}\r\n                       name=\"password\"  \r\n                       value={this.state.password}\r\n                       onChange={this.handleChange}/>\r\n               \r\n               <Button className=\"login-page-button\">\r\n                    <IconButton className=\"eye-icon\"\r\n                        onClick={this.handleClickShowPassword}\r\n                         >\r\n                {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                </Button>\r\n\r\n            </div> \r\n            </div>\r\n\r\n            <div className=\"form-label-input-grid\">\r\n               <label>Confirm Password:</label>\r\n               <div className=\"login-row-grid-input\" >\r\n                <input className=\"signIn-textbox\"\r\n                       required\r\n                       type={this.state.showPassword ? \"text\" : \"password\"}\r\n                       name=\"confirmPassword\"  \r\n                       value={this.state.ConfirmPassword}\r\n                       onChange={this.handleChange}/>\r\n               \r\n               <Button className=\"login-page-button\">\r\n                    <IconButton className=\"eye-icon\"\r\n                        onClick={this.handleClickShowPassword}\r\n                         >\r\n                {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                </Button>\r\n\r\n            </div> \r\n            </div>\r\n            {this.state.messageStatus===\"Password Length\"&& <div className=\"signup-warning\"> Password should contain atleast 8 characters</div>}\r\n            {this.state.messageStatus===\"Password Match\"&& <div className=\"signup-warning\"> Password should contain atleast 8 characters</div>}\r\n\r\n\r\n                </div>\r\n\r\n             )}\r\n            <div className=\"signin-alternative-options\"> <Link to=\"/sign-page\" >Go To Sign-in page</Link></div>\r\n\r\n          \r\n\r\n\r\n          \r\n</form>\r\n</div>\r\n        </React.Fragment>\r\n     \r\n    );\r\n  }\r\n}\r\nexport default ResetPassword;\r\n"]},"metadata":{},"sourceType":"module"}